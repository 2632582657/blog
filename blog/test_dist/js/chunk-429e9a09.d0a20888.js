(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-429e9a09"],{"386d":function(t,e,a){"use strict";var o=a("cb7c"),i=a("83a1"),s=a("5f1b");a("214f")("search",1,(function(t,e,a,r){return[function(a){var o=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,o):new RegExp(a)[e](String(o))},function(t){var e=r(a,t,this);if(e.done)return e.value;var n=o(t),u=String(this),d=n.lastIndex;i(d,0)||(n.lastIndex=0);var l=s(n,u);return i(n.lastIndex,d)||(n.lastIndex=d),null===l?-1:l.index}]}))},"39b0":function(t,e,a){},4556:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-12 col-md-4 px-2 mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWords.id,expression:"keyWords.id"}],staticClass:"form-control form-control-sm rounded-0",attrs:{type:"text",maxlength:"15",placeholder:"ID"},domProps:{value:t.keyWords.id},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||t.$set(t.keyWords,"id",e.target.value)}}})]),a("div",{staticClass:"col-12 col-md-4 px-2 mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWords.name,expression:"keyWords.name"}],staticClass:"form-control form-control-sm rounded-0",attrs:{type:"text",minlength:"1",maxlength:"20",placeholder:"Name"},domProps:{value:t.keyWords.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||t.$set(t.keyWords,"name",e.target.value)}}})]),a("div",{staticClass:"col-12 col-md-4 px-2 mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWords.author,expression:"keyWords.author"}],staticClass:"form-control form-control-sm rounded-0",attrs:{type:"email",minlength:"1",maxlength:"20",placeholder:"Author"},domProps:{value:t.keyWords.author},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||t.$set(t.keyWords,"author",e.target.value)}}})]),a("div",{staticClass:"col px-2 text-left"},[a("button",{staticClass:"btn btn-secondary btn-sm text-white rounded",on:{click:function(e){return t.search()}}},[t._v("查找")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isSearch,expression:"isSearch"}],staticClass:"btn btn-secondary btn-sm text-white rounded ml-2",on:{click:function(e){return t.back()}}},[t._v("返回")]),a("button",{staticClass:"btn btn-secondary btn-sm text-white rounded ml-2",attrs:{"data-toggle":"modal","data-target":"#audioModal"}},[t._v("添加歌曲")])])]),a("div",{attrs:{id:"table"}},[a("table",{staticClass:"table table-responsive-sm table-borderless"},[t._m(0),a("tbody",t._l(t.audioList,(function(e,o){return a("tr",{key:o,staticClass:"border-top border-bottom border-info"},[a("th",{attrs:{scope:"row"},domProps:{textContent:t._s(e.id)}}),a("td",{domProps:{textContent:t._s(e.name)}}),a("td",{domProps:{textContent:t._s(e.author)}}),a("td",{domProps:{textContent:t._s(e.create_time)}}),a("td",{staticClass:"d-flex justify-content-center align-items-center"},[a("button",{staticClass:"btn btn-info mr-2 btn-sm",attrs:{"data-toggle":"modal","data-target":"#updateBox"},on:{click:function(e){return t.deleteAudio(o)}}},[t._v("删除")])])])})),0)]),0===t.audioList.length?a("div",{staticClass:"my-5 text-warning text-center"},[a("span",{staticClass:"fa fa-warning"}),t._v(" 暂无结果\n    ")]):t._e()]),t.audioList&&0!==t.audioList.length?a("Pagination",{attrs:{control:{center:1},result:t.result},on:{func:t.func}}):t._e(),a("div",{staticClass:"modal fade",attrs:{id:"audioModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body text-left"},[a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioName"}},[t._v("歌曲名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.name,expression:"audio.name"}],staticClass:"form-control",attrs:{id:"audioName",type:"text",placeholder:"请输入歌曲名称",minlength:"1",maxlength:"15",required:""},domProps:{value:t.audio.name},on:{blur:t.audioChange,input:function(e){e.target.composing||t.$set(t.audio,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioAvatar"}},[t._v("歌曲作者")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.author,expression:"audio.author"}],staticClass:"form-control",attrs:{id:"audioAuthor",type:"text",placeholder:"请输入作者",minlength:"1",maxlength:"15",required:""},domProps:{value:t.audio.author},on:{input:function(e){e.target.composing||t.$set(t.audio,"author",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioAvatar"}},[t._v("歌曲封面链接")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.audioCover,expression:"audio.audioCover"}],staticClass:"form-control",attrs:{id:"audioCover",type:"text",placeholder:"请输入封面链接",required:""},domProps:{value:t.audio.audioCover},on:{input:function(e){e.target.composing||t.$set(t.audio,"audioCover",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioAvatar"}},[t._v("歌曲文件链接")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.audioFileName,expression:"audio.audioFileName"}],staticClass:"form-control",attrs:{id:"audioFileName",type:"text",placeholder:"请输入歌曲文件链接",required:""},domProps:{value:t.audio.audioFileName},on:{input:function(e){e.target.composing||t.$set(t.audio,"audioFileName",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"audioAvatar"}},[t._v("歌词文件链接")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.audio.audioLrcName,expression:"audio.audioLrcName"}],staticClass:"form-control",attrs:{id:"audioLrcName",type:"text",placeholder:"请输入歌曲文件链接",required:""},domProps:{value:t.audio.audioLrcName},on:{input:function(e){e.target.composing||t.$set(t.audio,"audioLrcName",e.target.value)}}})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.isRepeat},on:{click:function(e){return t.submit()}}},[t._v("提交")])])])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("ID")]),a("th",{attrs:{scope:"col"}},[t._v("名称")]),a("th",{attrs:{scope:"col"}},[t._v("作者")]),a("th",{attrs:{scope:"col"}},[t._v("记录时间")]),a("th",{attrs:{scope:"col"}},[t._v("操作")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"audioModalTitle"}},[t._v("上传歌曲信息")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=(a("1c01"),a("58b2"),a("8e6e"),a("f3e2"),a("d25f"),a("ac6a"),a("456d"),a("bd86")),r=(a("7f7f"),a("386d"),a("6407"));function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"radio",data:function(){return{result:{},keyWords:{id:"",name:"",author:""},audio:{name:"",author:"",audioCover:"",audioFileName:"",audioLrcName:""},audioList:[],isSearch:!1,isHave:!0,isRepeat:!0,reg:/((https|http):\/\/)(([a-zA-Z0-9\._-]+\.[a-zA-Z]{2,6})|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,4})*(\/[a-zA-Z0-9\&%_\./-~-]*)?/}},created:function(){var t=this;this.getAudio(null,(function(e){t.audioList=e.data.audioList,t.result=e.data.page}))},methods:{func:function(t){var e=this;this.isSearch?this.search(t):this.getAudio({page:t},(function(t){e.audioList=t.data.audioList,e.result=t.data.page,e.isSearch=!1}))},getAudio:function(t,e){this.$http("getAudio?adm=1",{params:t},(function(t){200===t.data.code&&e(t.data)}))},audioChange:function(t){var e=this;""!==this.audio.name?this.$http("/audio",{method:"post",data:{name:this.audio.name}},(function(t){200===t.data.code?e.isHave=!0:(e.$toast("当前歌曲已存在"),e.isHave=!1,e.clearForm())})):this.$toast("请请输入歌曲名称")},submit:function(){var t=this;if(this.isRepeat)if(""!==this.audio.audioCover&&""!==this.audio.audioFileName&&""!==this.audio.name&&""!==this.audio.author){if(!this.reg.test(this.audio.audioCover)||!this.reg.test(this.audio.audioFileName))return void this.$toast("表单不符合规范");if(this.audio.audioLrcName&&!this.reg.test(this.audio.audioLrcName))return void this.$toast("表单不符合规范");var e={name:this.audio.name,author:this.audio.author};this.isHave?(this.isRepeat=!1,this.$http("/audio",{method:"post",data:this.audio},(function(a){t.isRepeat=!0,200===a.data.code?(e.id=a.data.data.id,e.create_time=a.data.data.create_time,t.audioList.unshift(e),t.$toast("上传成功"),t.$("#audioModal").modal("hide"),t.clearForm()):(console.log(111),t.$toast(a.data.message),t.isRepeat=!0)}))):this.$toast("当前歌曲已经存在")}else this.$toast("表单不符合规范");else this.$toast("文件上传中，请勿重复提交")},search:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.keyWords.id||this.keyWords.name||this.keyWords.author){var a=u({},this.keyWords);for(var o in a)""===a[o]&&delete a[o];this.getAudio(u({search:1,page:e},a),(function(e){t.audioList=e.data.audioList,t.result=e.data.page,t.isSearch=!0}))}else this.$toast("请输入关键字")},back:function(){var t=this;this.getAudio(null,(function(e){t.audioList=e.data.audioList,t.result=e.data.page,t.isSearch=!1}))},deleteAudio:function(t){var e=this;this.audioList[t].id&&confirm("是否要删除吗")&&this.$http("deleteAudio/".concat(this.audioList[t].id,"?adm=1"),(function(a){200===a.data.code?(e.$toast("删除成功"),e.audioList.splice(t,1)):e.$toast(a.data.message||"删除失败")}))},clearForm:function(){this.audio.name="",this.audio.author="",this.audio.audioCover="",this.audio.audioFileName="",this.audio.audioLrcName=""}},components:{Pagination:r["a"]}},l=d,c=(a("7911"),a("2877")),m=Object(c["a"])(l,o,i,!1,null,"5d322940",null);e["default"]=m.exports},6407:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.result.pageCount>1?a("nav",{staticClass:"mt-3",attrs:{"aria-label":"Page navigation example "}},[a("ul",{class:"pagination  "+(t.control.sm?"pagination-sm ":" ")+(t.control.center?"justify-content-center":"justify-content-end")},[a("li",{directives:[{name:"show",rawName:"v-show",value:0!==t.result.pageCount,expression:"result.pageCount!==0"}],class:"page-item "+(1===t.result.currentPage?"disabled":""),on:{click:function(e){return t.handlePageClick(t.result.currentPage-1)}}},[a("a",{staticClass:"page-link text-info",attrs:{href:"#"}},[t._v("<")])]),t.result.currentPage>4?a("li",{staticClass:"page-item mx-1 d-none d-b d-sm-block d-md-block d-lg-block d-xl-block",on:{click:function(e){return t.handlePageClick(1)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("1")])]):t._e(),t.result.currentPage>4?a("li",{staticClass:"page-item mx-1 d-none d-sm-block d-md-block d-lg-block d-xl-block"},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("...")])]):t._e(),t._l(t.result.pageCount,(function(e){return a("li",{directives:[{name:"show",rawName:"v-show",value:e>t.result.currentPage-3&&e<t.result.currentPage+3,expression:"item>result.currentPage-3&&item<result.currentPage+3"}],key:e,class:"page-item mx-1"+(e===t.result.currentPage?" active":""),on:{click:function(a){return t.handlePageClick(e)}}},[a("a",{staticClass:"page-link",style:e===t.result.currentPage?"pointer-events: none":"",attrs:{href:"javascript:;"},domProps:{textContent:t._s(e)}})])})),t.result.currentPage<t.result.pageCount-3?a("li",{staticClass:"page-item mx-1 d-none d-sm-block d-md-block d-lg-block d-xl-block"},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("...")])]):t._e(),t.result.currentPage<t.result.pageCount-3?a("li",{staticClass:"page-item mx-1 d-none d-sm-block d-md-block d-lg-block d-xl-block",on:{click:function(e){return t.handlePageClick(t.result.pageCount)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"},domProps:{textContent:t._s(t.result.pageCount)}})]):t._e(),a("li",{class:"page-item "+(t.result.currentPage===t.result.pageCount?"disabled":""),on:{click:function(e){return t.handlePageClick(t.result.currentPage+1)}}},[a("a",{staticClass:"page-link text-info",attrs:{href:"#"}},[t._v(">")])])],2)]):t._e()},i=[],s={name:"pagination",data:function(){return{}},props:{result:Object,func:Function,control:Object},created:function(){},methods:{handlePageClick:function(t){this.result.pageCount>1&&t>=1&&t<=this.result.pageCount&&this.$emit("func",t)}}},r=s,n=(a("cd8a"),a("2877")),u=Object(n["a"])(r,o,i,!1,null,"76b06ff0",null);e["a"]=u.exports},7911:function(t,e,a){"use strict";var o=a("e023"),i=a.n(o);i.a},"7f7f":function(t,e,a){var o=a("86cc").f,i=Function.prototype,s=/^\s*function ([^ (]*)/,r="name";r in i||a("9e1e")&&o(i,r,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},cd8a:function(t,e,a){"use strict";var o=a("39b0"),i=a.n(o);i.a},e023:function(t,e,a){}}]);